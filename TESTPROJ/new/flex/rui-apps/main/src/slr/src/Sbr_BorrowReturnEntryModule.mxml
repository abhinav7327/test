<?xml version="1.0" encoding="utf-8"?>
	<containers:XenosEntryModule xmlns:mx="http://www.adobe.com/2006/mxml" 
							xmlns:containers="com.nri.rui.core.containers.*" 
							xmlns:flexlib="http://code.google.com/p/flexlib/" 
							xmlns:cntrls="com.nri.rui.core.controls.*" 
							xmlns:xenospopup="com.nri.rui.ref.popupImpl.*" 
							xmlns:frmtrs="com.nri.rui.core.formatters.*" 
							xmlns:valdtrs="com.nri.rui.core.validators.*" 
							layout="vertical" 
							percentWidth="100" 
							percentHeight ="100" 
							horizontalScrollPolicy="off" 
							verticalScrollPolicy="off">
							
 	<mx:Script source="actionscripts/Sbr_BorrowReturnEntryModule.as"/>
	
	
	 <containers:states>
    	<mx:State name="result">
            <mx:SetProperty target="{qry}" name="width" value="0%"/>
          <mx:SetProperty target="{rslt}" name="width" value="100%"/>   
        </mx:State>
        <mx:State name="entryState">
            <mx:SetProperty target="{qry}" name="width" value="100%"/>
            <mx:SetProperty target="{rslt}" name="width" value="0%"/>  
        </mx:State>
    </containers:states>
    <!-- Define Transition array with one Transition object.-->
    <containers:transitions>
        <!-- A transition for changing from any state to any state. -->
        <mx:Transition id="qryTransition" fromState="*" toState="*">
            <!-- Define a Parallel effect as the top-level effect.-->
            <mx:Parallel id="t1" targets="{[qry,rslt]}">
                <!-- Define a Move and Resize effect.-->
                <mx:Move  duration="400"/>
                <!--<mx:Resize duration="400"/>-->
            </mx:Parallel>
        </mx:Transition>
    </containers:transitions>
    
    <cntrls:XenosHTTPService id="addSecurityRequest" 
         					url="slr/slrBorrowReturnEntryDispatch.action?" 
         					fault="XenosAlert.error(this.parentApplication.xResourceManager.getKeyValue('slr.sbr.label.erroroccured') + event.fault.faultString)"
         					result="loadSecurity(event)"  
         					method="POST"
         					showBusyCursor="true"/>

	<cntrls:XenosHTTPService id="editSecurityRequest" 
         					url="slr/slrBorrowReturnEntryDispatch.action?" 
         					fault="XenosAlert.error(this.parentApplication.xResourceManager.getKeyValue('slr.sbr.label.erroroccured') + event.fault.faultString)"
         					result="loadEditedSecurity(event)" 
         					showBusyCursor="true"/>

	<cntrls:XenosHTTPService id="deleteSecurityRequest" 
         					url="slr/slrBorrowReturnEntryDispatch.action?" 
         					fault="XenosAlert.error(this.parentApplication.xResourceManager.getKeyValue('slr.sbr.label.erroroccured') + event.fault.faultString)"
         					result="loadDeletedSecurity(event)" 
         					showBusyCursor="true"/>
     <frmtrs:XenosNumberFormatter id="numberFormatter" useThousandsSeparator="true" />
	<valdtrs:XenosNumberValidator id="numValQty" 
									requiredFieldError=""
    								invalidCharError="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.invalid.quantity.error')}" 
							    	exceedsMaxError="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.allowed.quqntity.digit.error')}" 
    								negativeError="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.invalid.quantity.error')}" 
							    	separationError="" 
							    	source="{quantity}" 
							    	property="text" 
        							allowNegative="false" 
        							domain="real" 
        							lowerThanMinError="" 
        							maxValue="999999999999999" 
        							minValue="" 
        							invalidFormatCharsError="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.invalid.quantity.error')}" 
        							decimalPointCountError="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.invalid.quantity.error')}" 
        							precision="3" 
        							precisionError="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.allowed.quqntity.precision.error')}" />
        							
    <valdtrs:XenosNumberValidator id="numValQtyForAmend" 
									requiredFieldError=""
    								invalidCharError="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.invalid.quantity.error')}" 
							    	exceedsMaxError="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.allowed.quqntity.digit.error')}" 
    								negativeError="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.invalid.quantity.error')}" 
							    	separationError="" 
							    	source="{quantityForAmend}" 
							    	property="text" 
        							allowNegative="false" 
        							domain="real" 
        							lowerThanMinError="" 
        							maxValue="999999999999999" 
        							minValue="" 
        							invalidFormatCharsError="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.invalid.quantity.error')}" 
        							decimalPointCountError="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.invalid.quantity.error')}" 
        							precision="3" 
        							precisionError="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.allowed.quqntity.precision.error')}" />
    <valdtrs:XenosNumberValidator id="numValRate" 
									requiredFieldError=""
    								invalidCharError="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.invalid.rate.error')}" 
							    	exceedsMaxError="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.allowed.rate.digit.error')}" 
    								negativeError="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.invalid.rate.error')}" 
							    	separationError="" 
							    	source="{rate}" 
							    	property="text" 
        							allowNegative="false" 
        							domain="real" 
        							lowerThanMinError="" 
        							maxValue="99999" 
        							minValue="" 
        							invalidFormatCharsError="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.invalid.rate.error')}" 
        							decimalPointCountError="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.invalid.rate.error')}" 
        							precision="7" 
        							precisionError="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.allowed.rate.precision.error')}" />
        							
    <valdtrs:XenosNumberValidator id="numValRateForAmend" 
									requiredFieldError=""
    								invalidCharError="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.invalid.rate.error')}" 
							    	exceedsMaxError="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.allowed.rate.digit.error')}" 
    								negativeError="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.invalid.rate.error')}" 
							    	separationError="" 
							    	source="{rateForAmend}" 
							    	property="text" 
        							allowNegative="false" 
        							domain="real" 
        							lowerThanMinError="" 
        							maxValue="99999" 
        							minValue="" 
        							invalidFormatCharsError="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.invalid.rate.error')}" 
        							decimalPointCountError="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.invalid.rate.error')}" 
        							precision="7" 
        							precisionError="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.allowed.rate.precision.error')}" />     							    					
         					
    <mx:Canvas width="100%" height="100%" horizontalScrollPolicy="auto"  verticalScrollPolicy="auto">
	<mx:VBox width="100%" height="100%">
	<mx:ViewStack id="vstack" width="100%" height="100%" creationComplete="loadAll()" creationPolicy="all">
		
		<mx:Canvas id="qry" width="100%" height="100%" horizontalScrollPolicy="auto" verticalScrollPolicy="auto">
		<mx:VBox label="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.label.entrycriteria')}" width="100%" height="100%">
			<mx:Label id="initLabel" text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.borrowreturn.label.tradeentry')}" fontWeight="bold"/>
			<cntrls:XenosErrors id="errPage" width="100%" color="#FF0000" backgroundAlpha="0" borderStyle="none"/>
			<mx:HRule strokeColor="#94acb7" strokeWidth="2" width="100%" />
		
			<mx:Grid id="entryGrid" width="100%" borderThickness="1">
			         <mx:GridRow width="100%">
                        <mx:GridItem width="20%" borderThickness="0">
                            <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.contract.label.inventoryaccount')}" styleName="ReqdLabel"/>
                        </mx:GridItem>
                        <mx:GridItem width="30%" borderThickness="0"> 
                            <xenospopup:AccountPopUpHbox id="fundAccPopUp" retContextItem="{returnContextItem}" recContextItem="{populateInvActContext()}"/>
                            <cntrls:XenosLabel id="fundAccName" toolTip="{fundAccName.text}" width="200"/>
                        </mx:GridItem>
                        <mx:GridItem width="20%" borderThickness="0">
	                        <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.contract.label.tradedate')}" styleName="ReqdLabel"/>
	                    </mx:GridItem>
                        <mx:GridItem width="30%" borderThickness="0">
                        	<mx:DateField id="tradeDate"  formatString="YYYYMMDD" editable="true" width="100"/>
                        </mx:GridItem>                          
                    </mx:GridRow>
                     <mx:GridRow width="100%">
                         <mx:GridItem width="20%" borderThickness="0">
	                        <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.contract.label.valuedate')}" styleName="ReqdLabel"/>
	                    </mx:GridItem>
                        <mx:GridItem width="30%" borderThickness="0">
                        	<mx:DateField id="valueDate"  formatString="YYYYMMDD" editable="true" width="100"/>
                        </mx:GridItem>
                        <mx:GridItem width="20%" borderThickness="0">
                            <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.corporate.action')}" styleName="ReqdLabel"/>
                        </mx:GridItem>
                        <mx:GridItem width="30%" borderThickness="0">
                        	<mx:ComboBox id="caFlagList" prompt="Select" labelField="label"/>
						</mx:GridItem>                        
                    </mx:GridRow>
                   
                </mx:Grid>
                <!--Grid for Amend-->
                <mx:Grid id="amendGrid" width="100%" borderThickness="0">
			
					<mx:GridRow width="100%">
                        <mx:GridItem width="20%" borderThickness="0">
                            <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('borrow.label.referenceno')}" />
                        </mx:GridItem>
                        <mx:GridItem width="20%" borderThickness="0">
                            <mx:Label id="referenceNo" text="" selectable="true"/>
                        </mx:GridItem>
                       <mx:GridItem width="20%" borderThickness="0"/>
			            <mx:GridItem width="30%" borderThickness="0"/>
                    </mx:GridRow>
			
			         <mx:GridRow width="100%">
                        <mx:GridItem width="20%" borderThickness="0">
                            <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.contract.label.inventoryaccount')}" styleName="ReqdLabel"/>
                        </mx:GridItem>
                        <mx:GridItem width="30%" borderThickness="0"> 
                            <xenospopup:AccountPopUpHbox id="fundAccPopUpForAmend" retContextItem="{returnContextItemForAmend}" recContextItem="{populateInvActContextForAmend()}"/>
                            <mx:Label id="fundAccNoLblForAmend" text="" visible="false" includeInLayout="false"/> 
                            <mx:TextInput id="fundAccNameForAmend" width="90" editable="false" toolTip="{fundAccNameForAmend.text}"/>
                        </mx:GridItem>
                        <mx:GridItem width="20%" borderThickness="0">
	                        <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.contract.label.tradetype')}" styleName="ReqdLabel"/>
	                    </mx:GridItem>
                        <mx:GridItem width="30%" borderThickness="0">
                        	 <mx:ComboBox id="tradeTypeForAmend" enabled="false" prompt="Select" labelField="label"/>
                       </mx:GridItem>
                    </mx:GridRow>
                     <mx:GridRow width="100%">
	                    <mx:GridItem width="20%" borderThickness="0">
	                        <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.contract.label.tradedate')}" styleName="ReqdLabel"/>
	                    </mx:GridItem>
                        <mx:GridItem width="30%" borderThickness="0">
                        	<mx:DateField id="tradeDateForAmend"  formatString="YYYYMMDD" editable="true" width="100"/>
                        </mx:GridItem>
	                    <mx:GridItem width="20%" borderThickness="0">
	                        <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.contract.label.valuedate')}" styleName="ReqdLabel"/>
	                    </mx:GridItem>
                        <mx:GridItem width="30%" borderThickness="0">
                        	<mx:DateField id="valueDateForAmend"  formatString="YYYYMMDD" editable="true" width="100"/>
                        </mx:GridItem>   
                    </mx:GridRow>
                    <mx:GridRow width="100%">
	                     <mx:GridItem width="20%" borderThickness="0">
		                	<mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.action.label.securitycode')}" styleName="ReqdLabel"/>
		            	</mx:GridItem>
                        <mx:GridItem width="25%" borderThickness="0">
			                <xenospopup:InstrumentPopUpHbox id="securityCodeForAmend"/>
			                <mx:TextInput id="secNameForAmend" width="90" editable="false" toolTip="{secNameForAmend.text}"/>
			            </mx:GridItem>
			            <mx:GridItem width="10%" borderThickness="0">
			                <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.instrument.label.quantity')}" styleName="ReqdLabel"/>
			            </mx:GridItem>
	                    <mx:GridItem width="10%" borderThickness="0">
			                <mx:TextInput id="quantityForAmend" width="100" />
			            </mx:GridItem>
                    </mx:GridRow>
                    <mx:GridRow width="100%">
	                    <mx:GridItem width="20%" borderThickness="0">
			                <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.action.label.rate')}"/>
			            </mx:GridItem>
                        <mx:GridItem width="30%" borderThickness="0">  
			                <mx:TextInput id="rateForAmend" width="100" />
			            </mx:GridItem>  
			            <mx:GridItem width="20%" borderThickness="0">
			                <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.cornc')}" id="cOrNcAmendForLebel"/>
			            </mx:GridItem>
	                    <mx:GridItem width="30%" borderThickness="0">
			               <mx:ComboBox id="cOrNcForAmend" prompt="Select" labelField="label" change="changeCallableFlag();"/>
			            </mx:GridItem>
                    </mx:GridRow>
                    <mx:GridRow width="100%">
	                    <mx:GridItem width="20%" borderThickness="0">
                            <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.corporate.action')}" />
                        </mx:GridItem>
                        <mx:GridItem width="30%" borderThickness="0">
                        	<mx:Label id="CaflaglblForAmend" text="" visible="true" includeInLayout="true"/> 
						</mx:GridItem> 
			           <mx:GridItem width="20%" borderThickness="0">
			                <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.contract.label.remarks')}"/>
			            </mx:GridItem>
	                    <mx:GridItem width="30%" borderThickness="0">
			                <mx:TextInput id="remarksForAmend" width="200"/>
			            </mx:GridItem>
                    </mx:GridRow>
                    <mx:GridRow width="100%" id="gridForCallableDateExternalRefBorrow">
	                    <mx:GridItem width="20%" borderThickness="0">
                            <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.callabledate')}" id="callableDateAmendForLebel"/>
                        </mx:GridItem>
                        <mx:GridItem width="30%" borderThickness="0">
                            <mx:DateField id="callableDateForAmend"  formatString="YYYYMMDD" editable="true" width="100"/>
						</mx:GridItem> 
			           <mx:GridItem width="20%" borderThickness="0">
			                <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.externalrefno')}"/>
			            </mx:GridItem>
	                    <mx:GridItem width="30%" borderThickness="0">
			                <mx:TextInput id="externalRefNoForAmendBorrow" width="200" restrict="{Globals.INPUT_PATTERN}"/>
			            </mx:GridItem>
                    </mx:GridRow>
                    <mx:GridRow width="100%" id="gridForExternalRefReturn"> 
			           <mx:GridItem width="20%" borderThickness="0">
			                <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.externalrefno')}"/>
			            </mx:GridItem>
	                    <mx:GridItem width="30%" borderThickness="0">
			                <mx:TextInput id="externalRefNoForAmendReturn" width="200" restrict="{Globals.INPUT_PATTERN}"/>
			            </mx:GridItem>
			            <mx:GridItem width="20%" borderThickness="0">
			                <mx:Label text=""/>
			            </mx:GridItem>
	                    <mx:GridItem width="30%" borderThickness="0">
			                <mx:Label text=""/>
			            </mx:GridItem>
                    </mx:GridRow>
                    <mx:GridRow width="100%" id="gridForPutThroughLendingDesk">
	                    <mx:GridItem width="20%" borderThickness="0">
                            <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.putthroughflag')}"/>
                        </mx:GridItem>
                        <mx:GridItem width="30%" borderThickness="0">
                            <mx:ComboBox id="putThroughFlagForAmend" prompt="Select" labelField="label"/>
						</mx:GridItem> 
			           <mx:GridItem width="20%" borderThickness="0">
			                <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.lendingdesk')}" id="lendingDeskAmendForLebel"/>
			            </mx:GridItem>
	                    <mx:GridItem width="30%" borderThickness="0">
			                <mx:TextInput id="lendingDeskForAmend" width="200" restrict="{Globals.INPUT_PATTERN}"/>
			            </mx:GridItem>
                    </mx:GridRow>
                    <mx:GridRow width="100%" id="gridForModifiedContractFlag">
	                    <mx:GridItem width="20%" borderThickness="0">
                            <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.modifiedcontractflag')}" />
                        </mx:GridItem>
                        <mx:GridItem width="30%" borderThickness="0">
                            <mx:Label id="modifiedContractFlagForAmend" text="" visible="true" includeInLayout="true"/>
						</mx:GridItem> 
			           <mx:GridItem width="20%" borderThickness="0">
			                <mx:Label text=""/>
			            </mx:GridItem>
	                    <mx:GridItem width="30%" borderThickness="0">
			                <mx:Label text=""/>
			            </mx:GridItem>
                    </mx:GridRow>                  
                </mx:Grid>
                
            <flexlib:WindowShade id="securities" label="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.instrument.label.securityheader')}" width="100%" styleName="linkButtonWindowShade" tabChildren="{securities.opened}" opened="true">
				<mx:Grid width="{entryGrid.width}" borderThickness="0" height="100">
		        	<mx:GridRow width="100%">
		        		<mx:GridItem width="25%" borderThickness="0">
		                	<mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.action.label.securitycode')}" styleName="ReqdLabel"/>
		            	</mx:GridItem>
		           		<mx:GridItem width="10%" borderThickness="0">
		                	<mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.contract.label.tradetype')}" styleName="ReqdLabel"/>
		            	</mx:GridItem>
			            <mx:GridItem width="10%" borderThickness="0">
			                <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.instrument.label.quantity')}" styleName="ReqdLabel"/>
			            </mx:GridItem>
			            <mx:GridItem width="10%" borderThickness="0">
			                <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.action.label.rate')}"/>
			            </mx:GridItem>
			            <mx:GridItem width="10%" borderThickness="0" id="callableFlagId">
			                <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.cornc')}"/>
			            </mx:GridItem>
			            <mx:GridItem width="10%" borderThickness="0" id="callableDateId">
			                <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.callabledate')}"/>
			            </mx:GridItem>
			            <mx:GridItem width="10%" borderThickness="0" id="putThroughFlagId">
			                <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.putthroughflag')}"/>
			            </mx:GridItem>
			            <mx:GridItem width="10%" borderThickness="0" id="lendingDeskId">
			                <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.lendingdesk')}"/>
			            </mx:GridItem>
			            <mx:GridItem width="10%" borderThickness="0" id="externalRefNoId">
			                <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.externalrefno')}"/>
			            </mx:GridItem>
			            <mx:GridItem width="10%" borderThickness="0" id="modifiedContractFlagId">
			                <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.modifiedcontractflag')}"/>
			            </mx:GridItem>			            			            
			            <mx:GridItem width="25%" borderThickness="0">
			                <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.contract.label.remarks')}"/>
			            </mx:GridItem>
			             <mx:GridItem width="10%" borderThickness="0">
			            </mx:GridItem>
					</mx:GridRow>
					
					<mx:GridRow width="100%">
			            <mx:GridItem width="25%" borderThickness="0">
			                <mx:VBox>
			                	<xenospopup:InstrumentPopUpHbox id="securityCode"/>
								<cntrls:XenosLabel id="secName" toolTip="{secName.text}" isWrapReq="true" width="300"/>
			                </mx:VBox>			                
			            </mx:GridItem>
			            <mx:GridItem width="10%" borderThickness="0">
			               <mx:ComboBox id="tradeType" prompt="Select" labelField="label" change="changeTradeType();"/>
			            </mx:GridItem>
			            <mx:GridItem width="10%" borderThickness="0">
			                <mx:TextInput id="quantity" width="100" />
			            </mx:GridItem>
			            <mx:GridItem width="10%" borderThickness="0">  
			                <mx:TextInput id="rate" width="100" />
			            </mx:GridItem>  
			            <mx:GridItem width="10%" borderThickness="0" id="callableFlagGrid">
			               <mx:ComboBox id="cOrNc" prompt="Select" labelField="label"/>
			            </mx:GridItem>
			            <mx:GridItem width="10%" borderThickness="0" id="callableDateGrid">
			                <mx:DateField id="callableDate"  formatString="YYYYMMDD" editable="true" width="100"/>
			            </mx:GridItem>
			            <mx:GridItem width="8%" borderThickness="0" id="putThroughFlagGrid">
			                <mx:ComboBox id="putThroughFlag" prompt="Select" labelField="label" width="100"/>
			            </mx:GridItem>
			            <mx:GridItem width="10%" borderThickness="0" id="lendingDeskGrid">
			                <mx:TextInput id="lendingDesk" width="110" restrict="{Globals.INPUT_PATTERN}"/>
			            </mx:GridItem>
			            <mx:GridItem width="10%" borderThickness="0" id="externalRefNoGrid">
			                <mx:TextInput id="externalRefNo" width="120" restrict="{Globals.INPUT_PATTERN}"/>
			            </mx:GridItem>
			            <mx:GridItem width="8%" borderThickness="0" id="modifiedContractFlagGrid">
			                <mx:ComboBox id="modifiedContractFlag" prompt="Select" labelField="label" width="110"/>
			            </mx:GridItem>			            
			            <mx:GridItem width="25%" borderThickness="0">
			                <mx:TextInput id="remarks" width="130"/>
			            </mx:GridItem>
			            <mx:GridItem width="10%" borderThickness="0" horizontalAlign="left">
			            	<mx:Button label="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.button.add')}" click="addSecurity();"/>
			            </mx:GridItem>
					</mx:GridRow>
						<!--<mx:GridRow id="securityGrid" width="100%">
			            <mx:GridItem width="25%" borderThickness="0">
			            	<mx:Button label="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.button.add')}" click="addSecurity();"/>
			            </mx:GridItem>
			            <mx:GridItem width="10%" borderThickness="0"/>
			            <mx:GridItem width="10%" borderThickness="0"/>
			            <mx:GridItem width="10%" borderThickness="0"/>
			            <mx:GridItem width="10%" borderThickness="0"/> 
			            <mx:GridItem width="10%" borderThickness="0"/>
			            <mx:GridItem width="35%" borderThickness="0"/>
			            
					</mx:GridRow> --> 	                
				</mx:Grid>
	        	<mx:DataGrid id="securitySummary" dataProvider="{this.securityList}" width="{entryGrid.width}" sortableColumns="false" variableRowHeight="true" horizontalScrollPolicy="auto" visible="true" includeInLayout="true" rowCount="10"> 
			    	<mx:columns>
			    		<mx:DataGridColumn headerText="" width="100" textAlign="center">
							<mx:itemRenderer>
								<mx:Component>
									<mx:HBox>
										<mx:Image id="editSecurity" source="@Embed('../../assets/themes/default/skin/icon_edit.png')" width="28" height="20" verticalAlign="middle" click="outerDocument.editSecurity(data)"/>
										<mx:Image id="deleteSecurity" source="@Embed('../../assets/themes/default/skin/icon_del.png')" width="28" height="20" verticalAlign="middle" click="outerDocument.deleteSecurity(data)"/>
									</mx:HBox>
								</mx:Component>
							</mx:itemRenderer>
						</mx:DataGridColumn>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.action.label.securitycode')}" dataField="secCodeDisp" width="110"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.action.label.securityName')}" dataField="secCodeNameDisp" width="220" wordWrap="true"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.contract.label.tradetype')}" dataField="tradeTypeDisp" width="90"/>
						<mx:DataGridColumn textAlign="right" headerText="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.instrument.label.quantity')}" dataField="quantityDisp" width="80"/>
						<mx:DataGridColumn textAlign="right" headerText="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.action.label.rate')}" dataField="rateDisp" width="60"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.cornc')}" dataField="callableFlag" width="60"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.callabledate')}" dataField="callableDateStr" width="95"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.putthroughflag')}" dataField="putThroughFlag" width="125"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.lendingdesk')}" dataField="lendingDesk" width="100"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.externalrefno')}" dataField="externalRefNo" width="110"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.modifiedcontractflag')}" dataField="modifiedContractFlag" width="160"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.contract.label.remarks')}" dataField="remarks" width="80" wordWrap="true"/>
						
	           </mx:columns>
			</mx:DataGrid>
            </flexlib:WindowShade>
            
			<mx:HBox width="100%" styleName="ButtonBackPanel">
   	           <cntrls:XenosButton label="{this.parentApplication.xResourceManager.getKeyValue('inf.form.button.label.submit')}" 
   	           						id="submit" 
   	           						styleName="BtnStyle" 
   	           						click="{this.mode == 'ENTRY' ?  this.dispatchEvent(new Event('entrySave')) :  this.dispatchEvent(new Event('amendEntrySave'))}" />
               <mx:Button label="{this.parentApplication.xResourceManager.getKeyValue('inf.form.button.label.reset')}" 
               				styleName="BtnStyle" 
               				click ="{this.mode == 'ENTRY' ?  this.dispatchEvent(new Event('entryReset')) : this.dispatchEvent(new Event('amendEntryReset'))}"/>
	        </mx:HBox>

		</mx:VBox>
		
		</mx:Canvas>
		<mx:VBox width="100%" height="100%" id="rslt" 
			horizontalScrollPolicy="auto" verticalScrollPolicy="auto" styleName="HDivideStyle" >			
	         <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.label.slrtradeentryusrconf')}" fontWeight="bold" id="uConfLabel"/>
	         <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.label.slrtradeentrysysconf')}" fontWeight="bold" id="sConfLabel" includeInLayout="false" visible="false"/>
	         <mx:HBox id="hb"  styleName="ButtonBackPanel" verticalGap="0" horizontalGap="0" width="100%" height="32" visible="false" verticalAlign="middle" includeInLayout="false">           
	            <mx:Image source="@Embed('../../assets/themes/default/skin/alert_info.png')" width="28" height="28" verticalAlign="middle"/>
	            <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.label.txncompleted')}" fontWeight="bold" selectable="true"/>  
	         </mx:HBox>
	         <cntrls:XenosErrors id="usrConfErrPage" width="100%" color="#FF0000" backgroundAlpha="0" borderStyle="none"/>
	          <cntrls:SoftWarningControl id="softWarning" width="100%" color="#0000FF" backgroundAlpha="0" borderStyle="none" fontWeight="bold"/>
	           <flexlib:WindowShade id="contractInfo" label="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.contract.label.contractinformation')}" width="100%" styleName="linkButtonWindowShade" tabChildren="{contractInfo.opened}" opened="true">
	         	<mx:Grid id="confGrid" width="100%" horizontalGap="0" verticalGap="0">
	         		
	         		<mx:GridRow width="100%">
                        <mx:GridItem width="20%" styleName="LabelBgColor">
                        	<mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.contract.label.inventoryaccount')}" styleName="FormLabelHeading"/>
                        </mx:GridItem>
                        <mx:GridItem width="30%">
							<mx:Label id="uFundAccountNo" text="" selectable="true"/>
						</mx:GridItem>
						<mx:GridItem width="20%" styleName="LabelBgColor">
                        	<mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.label.inventoryaccname')}" styleName="FormLabelHeading"/>
                        </mx:GridItem>
                        <mx:GridItem width="30%">
							<cntrls:XenosLabel id="uFundAccountName" text="" selectable="true" isWrapReq="true" width="400"/>
						</mx:GridItem>
											
                    </mx:GridRow>
                    <mx:GridRow width="100%">
                        
						<mx:GridItem width="20%" styleName="LabelBgColor">
                        	<mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.label.brokeraccount')}" styleName="FormLabelHeading"/>
                        </mx:GridItem>
                        <mx:GridItem width="30%">
							<mx:Label id="uBrokerAccountNo" text="" selectable="true"/>
						</mx:GridItem>
						<mx:GridItem width="20%" styleName="LabelBgColor">
                        	<mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.label.brokeraccname')}" styleName="FormLabelHeading"/>
                        </mx:GridItem>
                        <mx:GridItem width="30%">
							<cntrls:XenosLabel id="uBrokerAccName" text="" selectable="true" isWrapReq="true" width="400"/>
						</mx:GridItem>
									
                    </mx:GridRow>
                    <mx:GridRow width="100%">
                    <mx:GridItem width="20%" styleName="LabelBgColor">
                        	<mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.contract.label.tradedate')}" styleName="FormLabelHeading"/>
                        </mx:GridItem>
                        <mx:GridItem width="30%">
							<mx:Label id="uTradeDate" text="" selectable="true"/>
						</mx:GridItem>
                    <mx:GridItem width="20%" styleName="LabelBgColor">
                        	<mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.contract.label.valuedate')}" styleName="FormLabelHeading"/>
                        </mx:GridItem>
                        <mx:GridItem width="30%">
							<mx:Label id="uValueDate" text="" selectable="true"/>
						</mx:GridItem>
                        
						
                    </mx:GridRow>
                   <mx:GridRow width="100%">
						<mx:GridItem width="20%" styleName="LabelBgColor">
                        	<mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.corporate.action')}" styleName="FormLabelHeading"/>
                        </mx:GridItem>
                        <mx:GridItem width="30%">
							<mx:Label id="uCAFlag" text="" selectable="true"/>
						</mx:GridItem>
						<mx:GridItem width="20%" borderThickness="0"/>
			            <mx:GridItem width="30%" borderThickness="0"/>
                    </mx:GridRow>
                    
	         	</mx:Grid>
	         	<!-- Grid visible in amend use confirmation -->
	         	<mx:Grid id="confGridForAmend" width="100%" horizontalGap="0" verticalGap="0">
	         		
	         		
	         		<mx:GridRow width="100%">
                       <mx:GridItem width="20%" styleName="LabelBgColor">
                            <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('borrow.label.referenceno')}" />
                        </mx:GridItem>
                        <mx:GridItem width="20%">
                            <mx:Label id="ureferenceNo" text="" selectable="true"/>
                        </mx:GridItem>
                       <mx:GridItem width="20%"/>
			           <mx:GridItem width="20%"/>
                    </mx:GridRow>
	         		<mx:GridRow width="100%">
                        <mx:GridItem width="20%" styleName="LabelBgColor">
                        	<mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.contract.label.inventoryaccount')}" styleName="FormLabelHeading"/>
                        </mx:GridItem>
                        <mx:GridItem width="30%">
							<mx:Label id="uFundAccountNoForAmend" text="" selectable="true"/>
						</mx:GridItem>
						<mx:GridItem width="20%" styleName="LabelBgColor">
                        	<mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.label.inventoryaccname')}" styleName="FormLabelHeading"/>
                        </mx:GridItem>
                        <mx:GridItem width="30%">
							<cntrls:XenosLabel id="uFundAccountNameForAmend" text="" selectable="true" isWrapReq="true" width="280"/>
						</mx:GridItem>
											
                    </mx:GridRow>
                    <mx:GridRow width="100%">
                        
						<mx:GridItem width="20%" styleName="LabelBgColor">
                        	<mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.label.brokeraccount')}" styleName="FormLabelHeading"/>
                        </mx:GridItem>
                        <mx:GridItem width="30%">
							<mx:Label id="uBrokerAccountNoForAmend" text="" selectable="true"/>
						</mx:GridItem>
						<mx:GridItem width="20%" styleName="LabelBgColor">
                        	<mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.label.brokeraccname')}" styleName="FormLabelHeading"/>
                        </mx:GridItem>
                        <mx:GridItem width="30%">
							<cntrls:XenosLabel id="uBrokerAccNameForAmend" text="" selectable="true" isWrapReq="true" width="280"/>
						</mx:GridItem>
									
                    </mx:GridRow>
                    <mx:GridRow width="100%">
                    <mx:GridItem width="20%" styleName="LabelBgColor">
                        	<mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.action.label.securitycode')}" styleName="FormLabelHeading"/>
                        </mx:GridItem>
                        <mx:GridItem width="30%">
							<mx:Label id="uSecurityCodeForAmend" text="" selectable="true"/>
						</mx:GridItem>
                    <mx:GridItem width="20%" styleName="LabelBgColor">
                        	<mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.action.label.securityName')}" styleName="FormLabelHeading"/>
                        </mx:GridItem>
                        <mx:GridItem width="30%">
							<cntrls:XenosLabel id="uSecurityNameForAmend" text="" selectable="true" isWrapReq="true" width="280"/>
						</mx:GridItem>
					 </mx:GridRow>	
                    <mx:GridRow width="100%">
                    <mx:GridItem width="20%" styleName="LabelBgColor">
                        	<mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.contract.label.tradedate')}" styleName="FormLabelHeading"/>
                        </mx:GridItem>
                        <mx:GridItem width="30%">
							<mx:Label id="uTradeDateForAmend" text="" selectable="true"/>
						</mx:GridItem>
                    <mx:GridItem width="20%" styleName="LabelBgColor">
                        	<mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.contract.label.valuedate')}" styleName="FormLabelHeading"/>
                        </mx:GridItem>
                        <mx:GridItem width="30%">
							<mx:Label id="uValueDateForAmend" text="" selectable="true"/>
						</mx:GridItem>
                    </mx:GridRow>
                    <mx:GridRow width="100%">
                    <mx:GridItem width="20%" styleName="LabelBgColor">
                        	<mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.contract.label.tradetype')}" styleName="FormLabelHeading"/>
                        </mx:GridItem>
                        <mx:GridItem width="30%">
							<mx:Label id="uTradeTypeForAmend" text="" selectable="true"/>
						</mx:GridItem>
                    <mx:GridItem width="20%" styleName="LabelBgColor">
                        	<mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.cornc')}" styleName="FormLabelHeading" id="uCorNcFlagAmendForLebel"/>
                        </mx:GridItem>
                        <mx:GridItem width="30%">
							<mx:Label id="uCorNcFlagForAmend" text="" selectable="true"/>
						</mx:GridItem>
                    </mx:GridRow>
                    <mx:GridRow width="100%">
                    <mx:GridItem width="20%" styleName="LabelBgColor">
                        	<mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.instrument.label.quantity')}" styleName="FormLabelHeading"/>
                        </mx:GridItem>
                        <mx:GridItem width="30%">
							<mx:Label id="uQuantityForAmend" text="" selectable="true"/>
						</mx:GridItem>
                    <mx:GridItem width="20%" styleName="LabelBgColor">
                        	<mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.action.label.rate')}" styleName="FormLabelHeading"/>
                        </mx:GridItem>
                        <mx:GridItem width="30%">
							<mx:Label id="uRateForAmend" text="" selectable="true"/>
						</mx:GridItem>
                    </mx:GridRow>
                   <mx:GridRow width="100%">
						<mx:GridItem width="20%" styleName="LabelBgColor">
                        	<mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.corporate.action')}" styleName="FormLabelHeading"/>
                        </mx:GridItem>
                        <mx:GridItem width="30%">
							<mx:Label id="uCAFlagForAmend" text="" selectable="true"/>
						</mx:GridItem>
						<mx:GridItem width="20%" styleName="LabelBgColor">
                        	<mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.contract.label.remarks')}" styleName="FormLabelHeading"/>
                        </mx:GridItem>
                        <mx:GridItem width="30%">
							<cntrls:XenosLabel id="uRemarksForAmend" text="" selectable="true" isWrapReq="true" width="280"/>
						</mx:GridItem>
                    </mx:GridRow>
                    <mx:GridRow width="100%" id="uGridForCallableDateExternalRefBorrow">
						<mx:GridItem width="20%" styleName="LabelBgColor">
                        	<mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.callabledate')}" styleName="FormLabelHeading"/>
                        </mx:GridItem>
                        <mx:GridItem width="30%">
							<mx:Label id="uCallableDateForAmend" text="" selectable="true"/>
						</mx:GridItem>
						<mx:GridItem width="20%" styleName="LabelBgColor">
                        	<mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.externalrefno')}" styleName="FormLabelHeading"/>
                        </mx:GridItem>
                        <mx:GridItem width="30%">
							<cntrls:XenosLabel id="uExternalRefNoForAmendBorrow" text="" selectable="true" />
						</mx:GridItem>
                    </mx:GridRow>
                    <mx:GridRow width="100%" id="uGridForCallableDateExternalRefReturn">
						<mx:GridItem width="20%" styleName="LabelBgColor">
                        	<mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.externalrefno')}" styleName="FormLabelHeading"/>
                        </mx:GridItem>
                        <mx:GridItem width="30%">
							<cntrls:XenosLabel id="uExternalRefNoForAmendReturn" text="" selectable="true" />
						</mx:GridItem>
						<mx:GridItem width="20%" styleName="LabelBgColor">
                        	<mx:Label text=""/>
                        </mx:GridItem>
                        <mx:GridItem width="30%">
							<mx:Label text=""/>
						</mx:GridItem>
                    </mx:GridRow>
                    <mx:GridRow width="100%" id="uGridForPutThroughLendingDesk">
						<mx:GridItem width="20%" styleName="LabelBgColor">
                        	<mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.putthroughflag')}" styleName="FormLabelHeading"/>
                        </mx:GridItem>
                        <mx:GridItem width="30%">
							<mx:Label id="uPutThroughFlagForAmend" text="" selectable="true" />
						</mx:GridItem>
						<mx:GridItem width="20%" styleName="LabelBgColor">
                        	<mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.lendingdesk')}" styleName="FormLabelHeading"/>
                        </mx:GridItem>
                        <mx:GridItem width="30%">
							<cntrls:XenosLabel id="uLendingDeskForAmend" text="" selectable="true"/>
						</mx:GridItem>
                    </mx:GridRow>
                    <mx:GridRow width="100%" id="uGridForModifiedContractFlag">
						<mx:GridItem width="20%" styleName="LabelBgColor">
                        	<mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.modifiedcontractflag')}" styleName="FormLabelHeading"/>
                        </mx:GridItem>
                        <mx:GridItem width="30%">
							<mx:Label id="uModifiedContractFlagForAmend" text="" selectable="true"/>
						</mx:GridItem>
						<mx:GridItem width="20%" styleName="LabelBgColor">
                        	<mx:Label text=""/>
                        </mx:GridItem>
                        <mx:GridItem width="30%">
							<mx:Label text=""/>
						</mx:GridItem>
                    </mx:GridRow>
                    
	         	</mx:Grid>
	         	<mx:DataGrid id="cancelGrid" dataProvider="{this.securityList}" width="100%" sortableColumns="false" variableRowHeight="true" horizontalScrollPolicy="auto" visible="true" includeInLayout="true" rowCount="{this.securityList.length+2}"> 
			    	<mx:columns>
			    	<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('borrow.label.referenceno')}"  dataField="referenceNoDisplayStr" width="110" />
					<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('borrow.label.fundcode')}"  dataField="fundCode" width="100"/>
					<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('borrow.label.fundname')}"  dataField="fundName" width="150" />
					<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('borrow.label.fundacno')}"  dataField="accountNoDisp" width="110" />
					<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('borrow.label.fundacname')}"  dataField="accountNameDisp" width="150"/>
					<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('borrow.label.brokeracno')}"  dataField="brokerAccountNo" width="110"/>
					<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('borrow.label.brokeracname')}"  dataField="brokerAccountName" width="150"/>
					<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('borrow.label.tradetype')}" dataField="tradeTypeDisp" width="90" />
					<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('borrow.label.tradedate')}"  dataField="tradeDateDisp" width="90" />
					<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('borrow.label.valuedate')}"  dataField="valueDateDisp" width="90" />
					<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('borrow.label.orderno')}"  dataField="orderNo" width="80" />
					<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('borrow.label.securitycode')}"  dataField="secCodeDisp" width="100" />
					<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('borrow.label.securityname')}"  dataField="secCodeNameDisp" width="150" />
					<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('borrow.label.quantity')}"  dataField="quantityDisp" width="90" textAlign="right"/>
					<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('borrow.label.rate')}"  dataField="rateDisp" width="90" textAlign="right"/>
					<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('borrow.label.corporateactionflag')}"  dataField="caFlag" width="90" />
					<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('borrow.label.cnc')}" id="cnc" dataField="callableFlag" width="50" />
					<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.callabledate')}" id="callableDateCancel" dataField="callableDateStr" width="95" />
					<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.putthroughflag')}" id="putThrouhgFlagCancel" dataField="putThroughFlag" width="55" />
					<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.lendingdesk')}" id="lendingDeskCancel" dataField="lendingDesk" width="100" />
					<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.modifiedcontractflag')}" id="modifiedContractFlagCancel" dataField="modifiedContractFlag" width="55" />
					<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.externalrefno')}" id="externalRefNoCancel" dataField="externalRefNo" width="110" />
					<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.matchstatus')}" id="matchStatusCancel" dataField="matchStatus" width="95" />
					<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.outstandingborrowquantity')}" id="outstandingBorrowQuantityCancel" dataField="outstandingBorrowQuantityStr" width="130" textAlign="right"/>
	           </mx:columns>
			</mx:DataGrid>
	         	
	         </flexlib:WindowShade>
	         <flexlib:WindowShade id="secInfo" label="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.instrument.label.securityheader')}" width="100%" styleName="linkButtonWindowShade" tabChildren="{secInfo.opened}" opened="true">
	         <mx:VBox width="100%" height="100%">
	         	<mx:DataGrid id="securitySummaryConf" dataProvider="{this.securityList}" width="{confGrid.width}" sortableColumns="false" horizontalScrollPolicy="auto" visible="true" includeInLayout="true" rowCount="10"> 
				   <mx:columns>
				   <mx:DataGridColumn  id="refnoforsysconf" visible="false" headerText="{this.parentApplication.xResourceManager.getKeyValue('borrow.label.referenceno')}" dataField="referenceNo" width="100"/>
				   		<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.action.label.securitycode')}" dataField="secCodeDisp" width="110"/>
				   		<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.action.label.securityName')}" dataField="secCodeNameDisp" width="220" wordWrap="true"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.contract.label.tradetype')}" dataField="tradeTypeDisp" width="90"/>
						<mx:DataGridColumn textAlign="right" headerText="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.instrument.label.quantity')}" dataField="quantityDisp" width="80"/>
						<mx:DataGridColumn textAlign="right" headerText="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.action.label.rate')}" dataField="rateDisp" width="60"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.cornc')}" dataField="callableFlag" width="60"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.callabledate')}" dataField="callableDateStr" width="95"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.putthroughflag')}" dataField="putThroughFlag" width="125"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.lendingdesk')}" dataField="lendingDesk" width="100"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.externalrefno')}" dataField="externalRefNo" width="110"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.modifiedcontractflag')}" dataField="modifiedContractFlag" width="160"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('slr.sbr.contract.label.remarks')}" dataField="remarks" width="80" wordWrap="true"/>
						</mx:columns>
				</mx:DataGrid>
				</mx:VBox>
	         </flexlib:WindowShade>
	     
			<mx:HBox width="100%" styleName="ButtonBackPanel">
			   <cntrls:XenosButton label="{this.parentApplication.xResourceManager.getKeyValue('inf.form.button.label.back')}" id="back" styleName="BtnStyle" click="doBack()"/>
			  <cntrls:XenosButton label="{this.parentApplication.xResourceManager.getKeyValue('ref.form.button.label.confirm')}" id="uConfSubmit" styleName="BtnStyle" click="doSave()"/>
			  <cntrls:XenosButton label="{this.parentApplication.xResourceManager.getKeyValue('inf.form.button.label.submit')}" id="cancelSubmit" styleName="BtnStyle" click=" {this.dispatchEvent(new Event('cancelEntrySave'))}" includeInLayout="false" visible="false"/> 
   	           <cntrls:XenosButton label="{this.parentApplication.xResourceManager.getKeyValue('ref.form.button.label.confirm')}" id="uCancelConfSubmit" styleName="BtnStyle" click="{this.dispatchEvent(new Event('cancelEntryConf'))}" includeInLayout="false" visible="false"/> 
   	           <cntrls:XenosButton label="{this.parentApplication.xResourceManager.getKeyValue('ref.form.button.label.sysconfirm')}" id="sConfSubmit" styleName="BtnStyle" click="{this.mode == 'ENTRY' ?  this.dispatchEvent(new Event('entrySysConf')) : ( mode == 'AMEND' ? this.dispatchEvent(new Event('amendEntrySysConf')): this.dispatchEvent(new Event('cancelEntrySysConf')))}" includeInLayout="false" visible="false"/>
   	           </mx:HBox>
		</mx:VBox> 
		</mx:ViewStack>
		 </mx:VBox>
	</mx:Canvas>
    
   </containers:XenosEntryModule>			