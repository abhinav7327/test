<?xml version="1.0" encoding="utf-8"?>
<containers:XenosQueryModule xmlns:mx="http://www.adobe.com/2006/mxml" 
		   xmlns:containers="com.nri.rui.core.containers.*" 
		   xmlns:flexlib="http://code.google.com/p/flexlib/" 
		   xmlns:cntrls="com.nri.rui.core.controls.*" 
		   xmlns:xenospopup="com.nri.rui.ref.popupImpl.*" 
		   layout="vertical" 
		   percentWidth="100" percentHeight ="100" 
		   horizontalScrollPolicy="off" verticalScrollPolicy="off" >
		   
	<mx:Script source="actionscripts/FrxInstructionQuery.as"/>
	<mx:Script>
		<![CDATA[
			import mx.controls.dataGridClasses.DataGridColumn;
			import com.nri.rui.core.RendererFectory;
			import com.nri.rui.core.renderers.ImgSummaryRenderer;
			import com.nri.rui.core.controls.XenosAlert;
			import mx.controls.DataGrid;
			import mx.events.DataGridEvent;
			import com.nri.rui.core.Globals;
			
			public var frxpopUp:FrxInstructionConfirm;
            
            private function getTradeRefVerNo(item:Object ,column:DataGridColumn):String{
            	//XenosAlert.info("In set record count - L527"+item.versionNo);
            	if(item.versionNo=='0'){
            		return item.tradeRefNo;
            	}
            	else{
            		return item.tradeRefNo+"-"+item.versionNo;
            	}
            }
            
            private function checkPossitivePLForRecAgent(item:Object ,column:DataGridColumn):String{
            	if(XenosStringUtils.equals(item.ndfType,'OPEN')){
            		return Globals.EMPTY_STRING;
            	} else {
            		if(XenosStringUtils.equals(item.instructionType, 'MT304')){
            			if(item.profitLoss >= 0 ){
            				return Globals.EMPTY_STRING;
            			}
            	 		else return item.stlDelRecAgent;
            		} else {
            			if(XenosStringUtils.equals(item.instructionType, 'MT210')){
	            			return Globals.EMPTY_STRING;
	            		} else {
	            			return item.stlDelRecAgent;
	            		}
            		}
            	}
            	
            }
            
            private function checkPossitivePLForRecAgentAccount(item:Object ,column:DataGridColumn):String{
            	if(XenosStringUtils.equals(item.ndfType,'OPEN')){
            		return Globals.EMPTY_STRING;
            	} else {
            		if(XenosStringUtils.equals(item.instructionType, 'MT304')){
	            		if(item.profitLoss >= 0 ){
	            			return Globals.EMPTY_STRING;
	            		}
	            	 	else return item.stlDelRecAgentAccNo;            			
            		} else {
            			if(XenosStringUtils.equals(item.instructionType, 'MT210')){
	            			return Globals.EMPTY_STRING;
	            		} else {
	            			return item.stlDelRecAgentAccNo;
	            		}
            		}
	            }
            }
            
            private function checkPossitivePLForBeneficiary(item:Object ,column:DataGridColumn):String{
            	if(XenosStringUtils.equals(item.ndfType,'OPEN')){
            		return Globals.EMPTY_STRING;
            	} else {
            		if(XenosStringUtils.equals(item.instructionType, 'MT304')){
	            		if(item.profitLoss >= 0 ){
	            			return Globals.EMPTY_STRING;
	            		}
	            	 	else return item.stlDelRecBeneficiary;            			
            		} else {
	            		if(XenosStringUtils.equals(item.instructionType, 'MT210')){
	            			return Globals.EMPTY_STRING;
	            		} else {
	            			return item.stlDelRecBeneficiary;
	            		}
	            	}
	            }
            }
            
            private function checkNegetivePLForRecAgent(item:Object ,column:DataGridColumn):String{
            	if(XenosStringUtils.equals(item.ndfType,'OPEN')){
            		return Globals.EMPTY_STRING;
            	} else {
            		if(XenosStringUtils.equals(item.instructionType, 'MT304')){ 
	            		if(item.profitLoss < 0 ){
	            			return Globals.EMPTY_STRING;
	            		}
	            	 	else return item.stlDelRecAgent;
	            	} else {
	            		if(XenosStringUtils.equals(item.instructionType, 'MT202')){
	            			return Globals.EMPTY_STRING;
	            		} else {
	            			return item.stlDelRecAgent;
	            		}
	            	}
	            	
	            	
	            }
            }
            
            private function checkNegetivePLForRecAgentAccount(item:Object ,column:DataGridColumn):String{
            	if(XenosStringUtils.equals(item.ndfType,'OPEN')){
            		return Globals.EMPTY_STRING;
            	} else {
            		if(XenosStringUtils.equals(item.instructionType, 'MT304')){ 
	            		if(item.profitLoss < 0 ){
	            			return Globals.EMPTY_STRING;
	            		}
	            		 else return item.stlDelRecAgentAccNo;            			
            		} else {
            			if(XenosStringUtils.equals(item.instructionType, 'MT202')){
	            			return Globals.EMPTY_STRING;
	            		} else {
	            			return item.stlDelRecAgentAccNo;
	            		}
            		}
	            }
            }
            /**
            * Retrieve and return the Fund Account Number.
            */
            private function getFundAccNo(item:Object, column : DataGridColumn):String {
            	if(XenosStringUtils.equals(item.fundPrefix,Globals.EMPTY_STRING)){
            		return item.fundAccountNo;
            	}else{
                return item.fundPrefix+ ';' +item.fundAccountNo;
            }
            }
            
            private function getFundCode(item:Object, column : DataGridColumn):String{
            	return item.fundCode;
            }
            
            private function getCpAccount(item:Object, column : DataGridColumn):String{
            	if(XenosStringUtils.equals(item.cpPrefix,Globals.EMPTY_STRING)){
            		return item.cpAccountNo;
            	}else{
            	return item.cpPrefix+ ';' +item.cpAccountNo;
            }
            }
            
            private function getMarkedTag(item:Object, column : DataGridColumn):String{
            	if(!XenosStringUtils.equals(item.instructionReferenceNo,Globals.EMPTY_STRING)){
            	if(XenosStringUtils.equals(item.actualTrx,Globals.DATABASE_YES)){
            		return item.transmissionDateStr;
            	}else{
            		return '(Marked)';
            	}
            	}else
            		return Globals.EMPTY_STRING;
            }
            
            private function selectColor(item:Object, color:uint):uint {
            	if(XenosStringUtils.equals(opObj , Constants.SEND_NEW)){
            		if (XenosStringUtils.equals(item.cyan, "true")) {
            		return 0x00FFFF ;
	            	}
					if(XenosStringUtils.equals(item.pink, "true")){
						return 0xFFCCFF;
					}
					if(XenosStringUtils.equals(item.yellow, "true")) {
						return 0xFFFF00;
					}
					if(XenosStringUtils.equals(item.blue, "true")) {
						return 0x9966FF;
					}
            	}
            	
				return color; 
			}
			
			private function selectRowColor(item:Object, color:uint):uint{
				if(item.hasOwnProperty("ackStatus") || !XenosStringUtils.equals(item.instructionReferenceNo,Globals.EMPTY_STRING)){
			    	if(XenosStringUtils.equals(item.ackStatus, 'OK') ||!XenosStringUtils.equals(item.actualTrx,Globals.DATABASE_YES)) {
	           			return 0x33CC99;
	       			}else{
	       				return  0xF97777 ;
	       			}
	   			}else{
	   				return  0xF97777 ;
	   			}	
			}
			
			 /**
 			*  datagrid header release event handler to handle datagridcolumn sorting
 			*/
			public function dataGrid_headerRelease(evt:DataGridEvent):void {				
				var dg:DataGrid = DataGrid(evt.currentTarget);
                sortUtil.clickedColumn = dg.columns[evt.columnIndex];			
			}
			
            
		]]>
	</mx:Script>
	
    <containers:states>
    	<mx:State name="result">
            <mx:SetProperty target="{stackForQry}" name="width" value="0%"/>
            <mx:SetProperty target="{stackresult}" name="width" value="100%"/>
        </mx:State>
        <mx:State name="qryres">
            <mx:SetProperty target="{stackForQry}" name="width" value="50%"/>
            <mx:SetProperty target="{stackresult}" name="width" value="50%"/>
           <mx:SetProperty target="{app}" name="submitButtonInstance" value="{submit}"/>
        </mx:State>
        <mx:State name="">
        	<mx:SetProperty target="{app}" name="submitButtonInstance" value="{submit}"/>
        </mx:State>
    </containers:states> 
    
    <!-- Define Transition array with one Transition object.-->
   <containers:transitions>
        <mx:Transition id="qryTransition" fromState="*" toState="*">
            <mx:Parallel id="t1" targets="{[stackForQry,stackresult]}">
                <mx:Move  duration="400"/>
            </mx:Parallel>
        </mx:Transition>
    </containers:transitions>
    
    <cntrls:XenosHTTPService id="inxDetailConfirmRequest" 
         fault="XenosAlert.error(this.parentApplication.xResourceManager.getKeyValue('inf.label.error.occurred') + event.fault.faultDetail)"
         result="confirmHandler(event)" showBusyCursor="true" resultFormat="xml" method="POST"/> 

	<mx:VBox id="stateVb" width="100%" verticalGap="0" horizontalGap="0" >    
    <mx:HBox width="100%" styleName="ExCoBgPanel">
    	<mx:Image source="@Embed('../../assets/img/show_query.png')" toolTip="{this.parentApplication.xResourceManager.getKeyValue('frx.tooltip.query')}" buttonMode="true" click="currentState='';app.submitButtonInstance = submit;"  />    	
    	<mx:Image source="@Embed('../../assets/img/show_result.png')" toolTip="{this.parentApplication.xResourceManager.getKeyValue('frx.tooltip.result')}" buttonMode="true" click="currentState='result'" />
    	<mx:Image source="@Embed('../../assets/img/show_query_result.png')" toolTip="{this.parentApplication.xResourceManager.getKeyValue('frx.tooltip.qryrslt')}" buttonMode="true" click="currentState='qryres';app.submitButtonInstance = submit;"/>    	
    </mx:HBox>
    <mx:HRule strokeColor="#d2d9dc" strokeWidth="1" width="100%" />
    </mx:VBox>
		   
    <mx:Canvas width="100%" height="100%" horizontalScrollPolicy="auto" verticalScrollPolicy="auto">
	    <mx:VBox width="100%" height="100%" >	    	
	    	<mx:HDividedBox id="hdbox1" styleName="Padding4" width="100%" height="100%" liveDragging="true" creationComplete="{this.loadAll()}">
				<mx:ViewStack id="stackForQry" horizontalScrollPolicy="off" verticalScrollPolicy="off" styleName="HDivideStyle" width="100%" height="100%" creationPolicy="all">
			    	<mx:Canvas id="qry" width="100%" height="100%" horizontalScrollPolicy="auto" verticalScrollPolicy="auto">
			    	
			       	<mx:VBox label="Query Criteria" width="100%" height="100%" styleName="HDivideStyle" >
			            <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('inf.title.search.criteria')}" fontWeight="bold"/>
			            <cntrls:XenosErrors id="errPage" width="100%" color="#FF0000" backgroundAlpha="0" borderStyle="none"/>
			            <mx:HRule strokeColor="#94acb7" strokeWidth="2" width="100%" />
			            <mx:Grid width="100%" borderThickness="0">
			            	<mx:GridRow width="100%">
		                        <mx:GridItem width="20%" borderThickness="0">
		                            <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('frx.label.fundcode')}" />
		                        </mx:GridItem>
		                        <mx:GridItem width="30%" borderThickness="0">
		                           <xenospopup:FundPopUpHbox id="fundPopUp"/>
		                        </mx:GridItem> 
		                        <mx:GridItem id="glFundAcNo" width="20%" borderThickness="0" includeInLayout="false" visible="false">
		                            <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('frx.label.inventoryaccountno')}" />
		                        </mx:GridItem>
		                        <mx:GridItem id="giFundActPopUp" width="30%" borderThickness="0" includeInLayout="false" visible="false">
		                            <xenospopup:AccountPopUpHbox id="fundActPopUp" retContextItem="{returnFundContextItem}" recContextItem="{populateInvActContext()}" />
		                        </mx:GridItem> 
		                    </mx:GridRow>
		                    <mx:GridRow width="100%">
		                        <mx:GridItem width="20%" borderThickness="0">
		                            <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('frx.label.tradereferenceno')}" />
		                        </mx:GridItem>
		                        <mx:GridItem width="30%" borderThickness="0">
		                           <mx:TextInput id="trdrefno" text="" restrict="{Globals.INPUT_PATTERN}"/>
		                        </mx:GridItem> 
		                        <mx:GridItem id="glinxrefno" width="20%" borderThickness="0" includeInLayout="false" visible="false">
		                            <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.inxrefno')}" />
		                        </mx:GridItem>
		                        <mx:GridItem id="giInxRefNo" width="30%" borderThickness="0" includeInLayout="false" visible="false">
		                            <mx:TextInput id="inxRefNo" text="" restrict="{Globals.INPUT_PATTERN}"/>
		                        </mx:GridItem> 
		                    </mx:GridRow>
		                    <mx:GridRow width="100%" id="gOurBankOurSettlemenAc" includeInLayout="false" visible="false">
		                        <mx:GridItem width="20%" borderThickness="0">
		                            <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.ourbank')}" />
		                        </mx:GridItem>
		                        <mx:GridItem width="30%" borderThickness="0">
		                           <xenospopup:FinInstitutePopUpHbox id="ourBankCodePopUp" recContextItem="{populateFinInstRole()}"/>
		                        </mx:GridItem> 
		                        <mx:GridItem width="20%" borderThickness="0">
		                            <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.settlementac')}" />
		                        </mx:GridItem>
		                        <mx:GridItem width="30%" borderThickness="0">
		                            <xenospopup:AccountPopUpHbox id="ourSettleAccountNoPopUp" retContextItem="{returnOurContextItem}" recContextItem="{populateOurSettleActContext()}" />
		                        </mx:GridItem> 
		                    </mx:GridRow>
		                    <mx:GridRow width="100%">
		                        <mx:GridItem width="20%" borderThickness="0">
		                            <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.operationobj')}" />
		                        </mx:GridItem>
		                        <mx:GridItem width="30%" borderThickness="0">
		                           <mx:ComboBox id="opObjective" labelField="label" change="onChangeOperationObjective(event)" width="160" itemRenderer="mx.controls.Label" />
		                        </mx:GridItem> 
		                        <mx:GridItem id="glAckStatus" width="20%" borderThickness="0" includeInLayout="false" visible="false">
		                            <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.ackstatus')}" />
		                        </mx:GridItem>
		                        <mx:GridItem id="giAckStatus" width="30%" borderThickness="0" includeInLayout="false" visible="false">
		                            <mx:ComboBox id="ackStatus" labelField="label" prompt="Select" width="160" itemRenderer="mx.controls.Label"/>
		                        </mx:GridItem> 
		                    </mx:GridRow>
		                    <mx:GridRow width="100%" id="transmissionDateGrid" visible="false" includeInLayout="false">
		                        <mx:GridItem width="20%" borderThickness="0">
		                            <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.transmissiondate')}" />
		                        </mx:GridItem>
		                        <mx:GridItem width="30%" borderThickness="0">
		                        	<mx:DateField id="transdate" formatString="YYYYMMDD" editable="true" width="90"/>
		                        </mx:GridItem> 
		                        <mx:GridItem width="20%" borderThickness="0" includeInLayout="false" visible="false">
		                        </mx:GridItem>
		                        <mx:GridItem width="30%" borderThickness="0" includeInLayout="false" visible="false">
		                        </mx:GridItem> 
		                    </mx:GridRow>
			            </mx:Grid>
			            <flexlib:WindowShade id="ws2" tabChildren="{ws2.opened}" label="{this.parentApplication.xResourceManager.getKeyValue('inf.form.label.lessimportant.fields')}" opened="false" width="100%">
			            	<mx:Grid width="100%" borderThickness="0">
			            		<mx:GridRow width="100%">
			                        <mx:GridItem width="20%" borderThickness="0">
			                            <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('frx.label.tradetype')}"/>
			                        </mx:GridItem>
			                        <mx:GridItem width="30%" borderThickness="0">
			                           <mx:ComboBox id="tradetypevalues" labelField="label" prompt="Select" width="150" itemRenderer="mx.controls.Label"/>
			                        </mx:GridItem> 
			                        <mx:GridItem width="20%" borderThickness="0">
			                            <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('frx.label.counterpartycode')}" />
			                        </mx:GridItem>
			                        <mx:GridItem width="30%" borderThickness="0">
			                            <xenospopup:AccountPopUpHbox id="cpAccountNoPopUp" retContextItem="{returnContextItem}" recContextItem="{populateCounterPartyActContext()}"/>
			                        </mx:GridItem> 
		                    	</mx:GridRow>
		                    	<mx:GridRow width="100%">
		                    		<mx:GridItem width="20%" borderThickness="0">
		                    			<mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('frx.label.tradedatefromto')}"/>
		                    		</mx:GridItem>
		                    		<mx:GridItem width="30%" borderThickness="0">
		                    			<mx:HBox>
		                    				<mx:DateField id="trddateFrom"  formatString="YYYYMMDD" editable="true" width="90"/>
		                                    <mx:DateField id="trddateTo" formatString="YYYYMMDD" editable="true" width="90"/>
		                    			</mx:HBox>
		                    		</mx:GridItem>
		                    		<mx:GridItem width="20%" borderThickness="0">
		                    			<mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('frx.label.valuedatefromto')}"/>
		                    		</mx:GridItem>
		                    		<mx:GridItem width="30%" borderThickness="0">
		                    			<mx:HBox>
		                    				<mx:DateField id="valdateFrom"  formatString="YYYYMMDD" editable="true" width="90"/>
		                                    <mx:DateField id="valdateTo" formatString="YYYYMMDD" editable="true" width="90"/>
		                    			</mx:HBox>
		                    		</mx:GridItem>
		                    	</mx:GridRow>
		                    	<mx:GridRow width="100%">
		                    		<mx:GridItem width="20%" borderThickness="0">
		                    			<mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('frx.label.baseccy')}" />	
		                    		</mx:GridItem>
		                    		<mx:GridItem width="30%" borderThickness="0">
		                    			<cntrls:CurrencyHBox id="baseccyBox"/>
		                    		</mx:GridItem>
		                    		<mx:GridItem width="20%" borderThickness="0">
		                    			<mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('frx.label.againstccy')}" />	
		                    		</mx:GridItem>
		                    		<mx:GridItem width="30%" borderThickness="0">
		                    			<cntrls:CurrencyHBox id="againstccyBox"/>
		                    		</mx:GridItem>
		                    	</mx:GridRow>
		                    	<mx:GridRow width="100%">
		                    		<mx:GridItem width="20%" borderThickness="0">
		                    			<mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.ndfopenclose')}" />	
		                    		</mx:GridItem>
		                    		<mx:GridItem width="30%" borderThickness="0">
		                    			<mx:ComboBox id="ndftypevalues" labelField="label" prompt="Select" width="100" itemRenderer="mx.controls.Label"/>
		                    		</mx:GridItem>
		                    		<mx:GridItem width="20%" borderThickness="0">
		                    			<mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.office')}" />
		                    		</mx:GridItem>
		                    		<mx:GridItem width="30%" borderThickness="0">
		                    			<mx:ComboBox id="officevalues" labelField="label" prompt="Select" width="125" itemRenderer="mx.controls.Label"/>
		                    		</mx:GridItem>
		                    	</mx:GridRow>
		                    	<mx:GridRow width="100%">
		                    		<mx:GridItem width="20%" borderThickness="0">
		                    			<mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.origindatasource')}" />
		                    		</mx:GridItem>
		                    		<mx:GridItem width="30%" borderThickness="0">
		                    			<mx:ComboBox id="datasourcevalues" labelField="label" prompt="Select" width="125" itemRenderer="mx.controls.Label"/>
		                    		</mx:GridItem>
		                    		<mx:GridItem id="glStatus" width="20%" borderThickness="0" includeInLayout="false" visible="false">
		                    			<mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('frx.label.status')}" />
		                    		</mx:GridItem>
		                    		<mx:GridItem id="giStatus" width="30%" borderThickness="0" includeInLayout="false" visible="false">
		                    			<mx:ComboBox id="statusvalues" labelField="label" prompt="Select" width="125" itemRenderer="mx.controls.Label"/>
		                    		</mx:GridItem>
		                    	</mx:GridRow>
		                    	<mx:GridRow width="100%">
		                    		<mx:GridItem width="20%" borderThickness="0">
		                    			<mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.instructionType')}" />
		                    		</mx:GridItem>
		                    		<mx:GridItem width="30%" borderThickness="0">
		                    			<mx:ComboBox id="instructionTypeValues" labelField="label" prompt="Select" width="125" itemRenderer="mx.controls.Label"/>
		                    		</mx:GridItem>
		                    		<mx:GridItem width="20%" borderThickness="0">
		                    		</mx:GridItem>
		                    		<mx:GridItem width="30%" borderThickness="0">
		                    		</mx:GridItem>
		               			</mx:GridRow>
			            	</mx:Grid>							
						</flexlib:WindowShade>
						<flexlib:WindowShade id="ws3" tabChildren="{ws3.opened}" label="{this.parentApplication.xResourceManager.getKeyValue('inf.form.label.sortorder.fields')}" opened="true" width="100%">
			                <mx:Grid width="100%" id="sg1" includeInLayout="true" visible="true" borderThickness="0">
			                    <mx:GridRow width="100%">
			                        <mx:GridItem width="100%" borderThickness="0">
			                            <mx:HBox width="100%">
			                                <mx:ComboBox id="sortField1" labelField="label" change="sortOrder1Update()"/>
			                                <mx:ComboBox id="sortField2" labelField="label" change="sortOrder2Update()"/>
			                                <mx:ComboBox id="sortField3" labelField="label"/>
			                            </mx:HBox> 
			                        </mx:GridItem>                         
			                    </mx:GridRow>
			                </mx:Grid>  
		            	</flexlib:WindowShade>
		            	<mx:HBox width="100%" styleName="ButtonBackPanel">                      
			                <cntrls:XenosButton label="{this.parentApplication.xResourceManager.getKeyValue('inf.form.button.label.submit')}" id="submit" styleName="BtnStyle" click="{selectAllBind = false;this.mode == 'query' ? this.dispatchEvent(new Event('querySubmit')):this.dispatchEvent(new Event('cancelSubmit'))}" />
			                <mx:Button label="{this.parentApplication.xResourceManager.getKeyValue('inf.form.button.label.reset')}" styleName="BtnStyle"  click="{selectAllBind = false;this.mode =='query' ? this.dispatchEvent(new Event('queryReset')):this.dispatchEvent(new Event('cancelReset'))}"/>                    
		            	</mx:HBox>
					</mx:VBox>
					 <!-- Help Grid -->
			       	<mx:VBox width="100%" height="100%" id="helpBox" styleName="HDivideStyle" visible="false" includeInLayout="false" horizontalScrollPolicy="off" verticalScrollPolicy="off">
			       		<mx:Grid width="100%" borderThickness="0" verticalGap="0" horizontalGap="0">
			       			<mx:GridRow width="100%" backgroundColor="0x00FFFF" borderThickness="0">
		                        <mx:GridItem width="100%">
		                            <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('frx.label.missing.receiverbic')}" />
		                        </mx:GridItem>
				            </mx:GridRow>
			       			<mx:GridRow width="100%" backgroundColor="0xFFCCFF" borderThickness="0">
		                        <mx:GridItem width="100%">
		                            <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('frx.label.unknown.cpssi')}" />
		                        </mx:GridItem>
				            </mx:GridRow>
				            <mx:GridRow width="100%" backgroundColor="0xFFFF00" borderThickness="0">
		                        <mx:GridItem width="100%">
		                            <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('frx.label.missingbic')}" />
		                        </mx:GridItem>
				            </mx:GridRow>
				            <mx:GridRow width="100%" backgroundColor="0x9966FF" borderThickness="0">
		                        <mx:GridItem width="100%">
		                            <mx:Label id="differentBicText"  height="60"/>
		                        </mx:GridItem>
				            </mx:GridRow>
				            <!--mx:GridRow width="100%" backgroundColor="0xFF6633" borderThickness="0">
		                        <mx:GridItem width="100%">
		                            <mx:Label text="{this.parentApplication.xResourceManager.getKeyValue('frx.label.missingfundcrossref')}" />
		                        </mx:GridItem>
				            </mx:GridRow-->
			       		</mx:Grid>
	       			</mx:VBox>
				</mx:Canvas>
			</mx:ViewStack>
			<mx:ViewStack id="stackresult" horizontalScrollPolicy="off" verticalScrollPolicy="off" styleName="HDivideStyle" width="0%" height="100%" creationPolicy="all">
			<mx:VBox width="100%" height="100%" id="query" horizontalScrollPolicy="off" verticalScrollPolicy="off" styleName="HDivideStyle" >
				<cntrls:QueryResultHeader id="qhQuery" printFunction="dispatchPrintEvent" 
					pdfFunction="dispatchPdfEvent" xlsFunction="dispatchXlsEvent" 
					previousFunction="dispatchPrevEvent" nextFunction="dispatchNextEvent" />
					
				<mx:HBox width="100%" styleName="ButtonBackPanel" verticalCenter="0" verticalAlign="middle" horizontalAlign="left" paddingLeft="0" paddingRight="0">
					<mx:HBox height="100%" verticalCenter="0" verticalAlign="middle" horizontalAlign="left">
						<mx:Label id="resultHeaderMT304" text="" fontWeight="bold" verticalCenter="0" />
						<mx:Label id="recordCountMT304" text="" fontWeight="bold" verticalCenter="0" height="40" minWidth="620"/>
					</mx:HBox>
				</mx:HBox>
				<mx:HBox width="100%" styleName="ButtonBackPanel" verticalCenter="0" verticalAlign="middle" horizontalAlign="left" paddingLeft="0" paddingRight="0">
					<mx:HBox height="100%" verticalCenter="0" verticalAlign="middle" horizontalAlign="left">
						<mx:Label id="resultHeaderMT202" text="" fontWeight="bold" verticalCenter="0" />
						<mx:Label id="recordCountMT202" text="" fontWeight="bold" verticalCenter="0" height="40"  minWidth="620"/>
					</mx:HBox>
				</mx:HBox>
				<mx:HBox width="100%" styleName="ButtonBackPanel" verticalCenter="0" verticalAlign="middle" horizontalAlign="left" paddingLeft="0" paddingRight="0">
					<mx:HBox height="100%" verticalCenter="0" verticalAlign="middle" horizontalAlign="left">
						<mx:Label id="resultHeaderMT210" text="" fontWeight="bold" verticalCenter="0" />
						<mx:Label id="recordCountMT210" text="" fontWeight="bold" verticalCenter="0" height="40"  minWidth="620"/>
					</mx:HBox>
				</mx:HBox>
										
					
                <mx:Label textAlign="center" width="100%" fontWeight="bold" text="{opObjDisp}"/> 
	         	<cntrls:CustomDataGrid id="resultSummaryQuery" width="100%" height="100%" dataProvider="{queryResult}" 
	         						   sortableColumns="true" variableRowHeight="true" headerRelease="dataGrid_headerRelease(event)" 
	         						   horizontalScrollPolicy="auto" creationComplete="bindQryDGrid()"
	         						   rowColorFunction="selectRowColor"> 
					<cntrls:columns>
						<mx:DataGridColumn headerText="" width="40" draggable="false" resizable="false" itemRenderer="{new RendererFectory(ImgSummaryRenderer)}" />
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.transtmitdaytime')}" dataField="transmissionDateStr"  sortCompareFunction="sortUtil.sortString" visible="true" labelFunction="getMarkedTag"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.inxrefno')}" dataField="instructionReferenceNo" width="150" sortCompareFunction="sortUtil.sortString" visible="true" itemRenderer="com.nri.rui.frx.renderers.ViewMT304Renderer"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.fund')}" dataField="fundPk" itemRenderer="com.nri.rui.core.renderers.FundDetailsRenderer" textAlign="left" sortCompareFunction="sortUtil.sortString" visible="true" labelFunction="getFundCode"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.label.fundname')}" dataField="fundName" sortCompareFunction="sortUtil.sortString" visible="false"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.fundac')}" dataField="fundAccountPk" labelFunction="getFundAccNo" itemRenderer="com.nri.rui.core.renderers.AdvAccountDetailsRenderer" sortCompareFunction="sortUtil.sortString" visible="true"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.label.fundaccountname')}" dataField="fundAccountName" sortCompareFunction="sortUtil.sortString" visible="false"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.label.tradedate')}" dataField="tradeDateStr" sortCompareFunction="sortUtil.sortString" visible="true"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.label.valuedate')}" dataField="valueDateStr" sortCompareFunction="sortUtil.sortString" visible="true"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.fixingdate')}" dataField="fixingDateStr" sortCompareFunction="sortUtil.sortString" visible="false"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.label.baseccy')}" dataField="buyCcy" textAlign="left" sortCompareFunction="sortUtil.sortString" visible="true"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.label.baseccyamt')}" dataField="buyCcyAmntStr" textAlign="right" sortCompareFunction="sortUtil.sortNumeric" visible="true"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.label.againstccy')}" dataField="sellCcy" textAlign="left" sortCompareFunction="sortUtil.sortString" visible="true"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.label.againstccyamt')}" dataField="sellCcyAmntStr" textAlign="right" sortCompareFunction="sortUtil.sortNumeric" visible="true"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.label.settleccy')}" dataField="settleCcy" textAlign="left" sortCompareFunction="sortUtil.sortString" visible="true"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.label.counterpartyacc')}" dataField="cpAccountPk" itemRenderer="com.nri.rui.core.renderers.AdvAccountDetailsRenderer" sortCompareFunction="sortUtil.sortString" visible="true" labelFunction="getCpAccount"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.counterpartyname')}" dataField="cpAccountName" sortCompareFunction="sortUtil.sortString" visible="false"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.label.tradetype')}" dataField="tradeType" sortCompareFunction="sortUtil.sortString" visible="true" width="180"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.ndfopenclose')}" dataField="ndfType" sortCompareFunction="sortUtil.sortString" visible="true"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.label.exchangerate')}" dataField="exchangeRate" textAlign="right" sortCompareFunction="sortUtil.sortString" visible="true"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.label.noexchangeflag')}" dataField="noExchangeFlag" sortCompareFunction="sortUtil.sortString" visible="false"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.tradepurpose')}" dataField="purposeOfTrade" sortCompareFunction="sortUtil.sortString" visible="true"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.executingbroker')}" dataField="executingBroker" sortCompareFunction="sortUtil.sortString" visible="true"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.fundaccrossref')}" dataField="frxInstructionAccountNo" sortCompareFunction="sortUtil.sortString" visible="true" width="120"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.fundacnamecrossref')}" dataField="frxInstructionAccountName" sortCompareFunction="sortUtil.sortString" visible="false" width="120"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.deliveryagent')}" dataField="buyDeliveryAgent" sortCompareFunction="sortUtil.sortString" visible="true"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.deliveryagentaccountno')}" dataField="buyDeliveryAgentAccountNo" sortCompareFunction="sortUtil.sortString" visible="false"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.buyintermediary')}" dataField="buyIntermediary" sortCompareFunction="sortUtil.sortString" visible="false"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.buyintermediaryaccountno')}" dataField="buyIntermediaryAccountNo" sortCompareFunction="sortUtil.sortString" visible="false"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.sellintermediary')}" dataField="sellIntermediary" sortCompareFunction="sortUtil.sortString" visible="false"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.sellintermediaryaccno')}" dataField="sellIntermediaryAccountNo" sortCompareFunction="sortUtil.sortString" visible="false"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.receivingagent')}" dataField="sellRecievingAgent" sortCompareFunction="sortUtil.sortString" visible="true"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.receivingagentacc')}" dataField="sellRecievingAgentAccNo" sortCompareFunction="sortUtil.sortString" visible="false"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.sellbeneficiaryinstitution')}" dataField="sellBeneficiary" sortCompareFunction="sortUtil.sortString" visible="false"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.settlementdeliveryagent')}" dataField="stlDelRecAgent" labelFunction="checkNegetivePLForRecAgent" sortCompareFunction="sortUtil.sortString" visible="true"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.settlementdeliveryagentaccno')}" dataField="stlDelRecAgentAccNo" labelFunction="checkNegetivePLForRecAgentAccount" sortCompareFunction="sortUtil.sortNumeric" visible="false"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.settlementreceivingagent')}" dataField="stlDelRecAgent" labelFunction="checkPossitivePLForRecAgent" sortCompareFunction="sortUtil.sortString" visible="true"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.settlementreceivingagentaccno')}" dataField="stlDelRecAgentAccNo" labelFunction="checkPossitivePLForRecAgentAccount" sortCompareFunction="sortUtil.sortNumeric" visible="false"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.settlementintermediary')}" dataField="stlDelRecIntermediary" sortCompareFunction="sortUtil.sortString" visible="false"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.settlementintermediaryaccno')}" dataField="stlDelRecIntermAccNo" sortCompareFunction="sortUtil.sortString" visible="false"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.settlementbeneficiaryinstitution')}" dataField="stlDelRecBeneficiary" labelFunction="checkPossitivePLForBeneficiary" sortCompareFunction="sortUtil.sortString" visible="false"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.transmission')}" dataField="transmissionDisplay" sortCompareFunction="sortUtil.sortString" visible="true"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.ackstatus')}" dataField="ackStatus" sortCompareFunction="sortUtil.sortString" visible="true"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.label.status')}" dataField="frxStatus" sortCompareFunction="sortUtil.sortString" visible="true" itemRenderer="com.nri.rui.core.renderers.StatusRenderer" width="90"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.func')}" dataField="functionDisplay" sortCompareFunction="sortUtil.sortString" visible="true" width="90"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.label.datasource')}" dataField="dataSource" sortCompareFunction="sortUtil.sortString" visible="true"/>						
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.traderefverno')}" dataField="trdrefvarno" itemRenderer="com.nri.rui.frx.renderers.FrxTradeNettedDetailRenderer" sortCompareFunction="sortUtil.sortString" visible="true" labelFunction="getTradeRefVerNo" width="130"/>					
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.receiverbic')}" dataField="receiverBic" sortCompareFunction="sortUtil.sortString" visible="true"/>
					</cntrls:columns>
				</cntrls:CustomDataGrid>
			</mx:VBox>
			<mx:VBox width="100%" height="100%" id="others" horizontalScrollPolicy="off" verticalScrollPolicy="off" styleName="HDivideStyle" >
				<cntrls:QueryResultHeader id="qhothers" printFunction="dispatchPrintEvent"
					 pdfFunction="dispatchPdfEvent" xlsFunction="dispatchXlsEvent" 
					 previousFunction="dispatchPrevEvent" nextFunction="dispatchNextEvent" 
					 showHelp="{showHelp}" helpFunction="displayHelp" showRecordCount="true" startIndex="3"/>
                <cntrls:XenosErrors id="errPage2" width="100%" color="#FF0000" backgroundAlpha="0" borderStyle="none"/>
				<mx:HBox id="sendNewShowCount304" width="100%" styleName="ButtonBackPanel" verticalCenter="0" verticalAlign="middle" horizontalAlign="left" paddingLeft="0" paddingRight="0">
					<mx:HBox height="100%" verticalCenter="0" verticalAlign="middle" horizontalAlign="left">
						<mx:Label id="sendNewResultHeaderMT304" text="" fontWeight="bold" verticalCenter="0" />
						<mx:Label id="sendNewRecordCountMT304" text="" fontWeight="bold" verticalCenter="0" height="40" minWidth="800"/>
	                </mx:HBox>	                 
	            </mx:HBox>
				<mx:HBox id="sendNewShowCount202" width="100%" styleName="ButtonBackPanel" verticalCenter="0" verticalAlign="middle" horizontalAlign="left" paddingLeft="0" paddingRight="0">
					<mx:HBox height="100%" verticalCenter="0" verticalAlign="middle" horizontalAlign="left">
						<mx:Label id="sendNewResultHeaderMT202" text="" fontWeight="bold" verticalCenter="0" />
						<mx:Label id="sendNewRecordCountMT202" text="" fontWeight="bold" verticalCenter="0" height="40"  minWidth="800"/>
	                </mx:HBox>	               
	            </mx:HBox>
				<mx:HBox id="sendNewShowCount210" width="100%" styleName="ButtonBackPanel" verticalCenter="0" verticalAlign="middle" horizontalAlign="left" paddingLeft="0" paddingRight="0">
					<mx:HBox height="100%" verticalCenter="0" verticalAlign="middle" horizontalAlign="left">
						<mx:Label id="sendNewResultHeaderMT210" text="" fontWeight="bold" verticalCenter="0" />
						<mx:Label id="sendNewRecordCountMT210" text="" fontWeight="bold" verticalCenter="0" height="40"  minWidth="800"/>
	                </mx:HBox>
	            </mx:HBox>
                <mx:Label textAlign="center" width="100%" fontWeight="bold" text="{opObjDisp}"/> 
	         	<cntrls:CustomDataGrid id="resultSummaryOthers" width="100%" height="100%" dataProvider="{queryResult}" sortableColumns="true" 
	         		variableRowHeight="true" headerRelease="dataGrid_headerRelease(event)" horizontalScrollPolicy="auto" 
	         		creationComplete="bindQryDataGrid()" rowColorFunction="selectColor"> 
					<cntrls:columns>
						<mx:DataGridColumn headerText="" width="40" draggable="false" resizable="false" itemRenderer="{new RendererFectory(ImgSummaryRenderer)}" />
					    <mx:DataGridColumn headerText="" width="40" textAlign="center" editable="false" dataField="selected" sortable="false"  
					    	headerRenderer="com.nri.rui.frx.renderers.SelectAllRecords" itemRenderer="com.nri.rui.frx.renderers.SelectRecord" />
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.fund')}" dataField="fundPk" itemRenderer="com.nri.rui.core.renderers.FundDetailsRenderer" textAlign="left" sortCompareFunction="sortUtil.sortString" visible="false" labelFunction="getFundCode"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.label.fundname')}" dataField="fundName" sortCompareFunction="sortUtil.sortString" visible="false"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.fundac')}" dataField="fundAccountPk" labelFunction="getFundAccNo" itemRenderer="com.nri.rui.core.renderers.AdvAccountDetailsRenderer" sortCompareFunction="sortUtil.sortString" visible="true"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.label.fundaccountname')}" dataField="fundAccountName" sortCompareFunction="sortUtil.sortString" visible="false"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.label.tradedate')}" dataField="tradeDateStr" sortCompareFunction="sortUtil.sortString" visible="true"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.label.valuedate')}" dataField="valueDateStr" sortCompareFunction="sortUtil.sortString" visible="true"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.fixingdate')}" dataField="fixingDateStr" sortCompareFunction="sortUtil.sortString" visible="false"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.label.baseccy')}" dataField="buyCcy" textAlign="left" sortCompareFunction="sortUtil.sortString" visible="true"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.label.baseccyamt')}" dataField="buyCcyAmntStr" textAlign="right" sortCompareFunction="sortUtil.sortNumeric" visible="true"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.label.againstccy')}" dataField="sellCcy" textAlign="left" sortCompareFunction="sortUtil.sortString" visible="true"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.label.againstccyamt')}" dataField="sellCcyAmntStr" textAlign="right" sortCompareFunction="sortUtil.sortNumeric" visible="true"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.label.settleccy')}" dataField="settleCcy" textAlign="left" sortCompareFunction="sortUtil.sortString" visible="true"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.label.counterpartyacc')}" dataField="cpAccountPk" itemRenderer="com.nri.rui.core.renderers.AdvAccountDetailsRenderer" sortCompareFunction="sortUtil.sortString" visible="true" labelFunction="getCpAccount"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.counterpartyname')}" dataField="cpAccountName" sortCompareFunction="sortUtil.sortString" visible="false"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.label.tradetype')}" dataField="tradeType" sortCompareFunction="sortUtil.sortString" visible="true" width="180"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.ndfopenclose')}" dataField="ndfType" sortCompareFunction="sortUtil.sortString" visible="true"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.label.exchangerate')}" dataField="exchangeRate" textAlign="right" sortCompareFunction="sortUtil.sortString" visible="true"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.label.noexchangeflag')}" dataField="noExchangeFlag" sortCompareFunction="sortUtil.sortString" visible="false"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.tradepurpose')}" dataField="purposeOfTrade" sortCompareFunction="sortUtil.sortString" visible="true"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.executingbroker')}" dataField="brokerBic" sortCompareFunction="sortUtil.sortString" visible="true"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.fundaccrossref')}" dataField="frxInstructionAccountNo" sortCompareFunction="sortUtil.sortString" visible="true" width="120"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.fundacnamecrossref')}" dataField="frxInstructionAccountName" sortCompareFunction="sortUtil.sortString" visible="false" width="120"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.deliveryagent')}" dataField="buyDeliveryAgent" sortCompareFunction="sortUtil.sortString" visible="true"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.deliveryagentaccountno')}" dataField="buyDeliveryAgentAccountNo" sortCompareFunction="sortUtil.sortString" visible="false"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.buyintermediary')}" dataField="buyIntermediary" sortCompareFunction="sortUtil.sortString" visible="false"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.buyintermediaryaccountno')}" dataField="buyIntermediaryAccountNo" sortCompareFunction="sortUtil.sortString" visible="false"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.sellintermediary')}" dataField="sellIntermediary" sortCompareFunction="sortUtil.sortString" visible="false"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.sellintermediaryaccno')}" dataField="sellIntermediaryAccountNo" sortCompareFunction="sortUtil.sortString" visible="false"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.receivingagent')}" dataField="sellRecievingAgent" sortCompareFunction="sortUtil.sortString" visible="true"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.receivingagentacc')}" dataField="sellRecievingAgentAccNo" sortCompareFunction="sortUtil.sortString" visible="false"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.sellbeneficiaryinstitution')}" dataField="sellBeneficiary" sortCompareFunction="sortUtil.sortString" visible="false"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.settlementdeliveryagent')}" dataField="stlDelRecAgent" labelFunction="checkNegetivePLForRecAgent" sortCompareFunction="sortUtil.sortString" visible="true"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.settlementdeliveryagentaccno')}" dataField="stlDelRecAgentAccNo" labelFunction="checkNegetivePLForRecAgentAccount" sortCompareFunction="sortUtil.sortNumeric" visible="false"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.settlementreceivingagent')}" dataField="stlDelRecAgent" labelFunction="checkPossitivePLForRecAgent" sortCompareFunction="sortUtil.sortString" visible="true"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.settlementreceivingagentaccno')}" dataField="stlDelRecAgentAccNo" labelFunction="checkPossitivePLForRecAgentAccount" sortCompareFunction="sortUtil.sortNumeric" visible="false"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.settlementintermediary')}" dataField="stlDelRecIntermediary" sortCompareFunction="sortUtil.sortString" visible="false"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.settlementintermediaryaccno')}" dataField="stlDelRecIntermAccNo" sortCompareFunction="sortUtil.sortString" visible="false"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.settlementbeneficiaryinstitution')}" dataField="stlDelRecBeneficiary" labelFunction="checkPossitivePLForBeneficiary" sortCompareFunction="sortUtil.sortString" visible="false"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.func')}" dataField="functionDisplay" sortCompareFunction="sortUtil.sortString" visible="false" width="90"/>
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.label.datasource')}" dataField="dataSource" sortCompareFunction="sortUtil.sortString" visible="true"/>						
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.traderefverno')}" dataField="trdrefvarno" itemRenderer="com.nri.rui.frx.renderers.FrxTradeNettedDetailRenderer" sortCompareFunction="sortUtil.sortString" visible="true" labelFunction="getTradeRefVerNo" width="130"/>					
						<mx:DataGridColumn headerText="{this.parentApplication.xResourceManager.getKeyValue('frx.inst.label.receiverbic')}" dataField="receiverBic" sortCompareFunction="sortUtil.sortString" visible="true"/>
					</cntrls:columns>
				</cntrls:CustomDataGrid>
				<mx:HBox id="hbTransmitOthers" width="100%" styleName="ButtonBackPanel">            
                	<cntrls:XenosButton id="transmitOthers" styleName="BtnStyle" click="this.submitTransmit();" />
             	</mx:HBox>
			</mx:VBox>
			</mx:ViewStack>
		</mx:HDividedBox>
	</mx:VBox>
 </mx:Canvas>

</containers:XenosQueryModule>
